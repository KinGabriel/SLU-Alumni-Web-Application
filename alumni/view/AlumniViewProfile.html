<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SLU Alumina</title>
    <link href="../assets/css/AlumniViewProfile.css" rel="stylesheet">
    <link href="/../../node_modules/bootstrap/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body>

    <!-- Header separator -->
    <div class="header-separator"></div>

    <!-- Header Section: This contains the main header with the logo and search bar -->
    <!-- Design Inspiration: GitHub, Facebook -->
    <!-- Library Used: Bootstrap (https://getbootstrap.com/) -->
    <!-- Group Member Responsible: Escaño, Nichole Jhoy -->
    <header>
        <h1>
            <img src="../assets/images/logo.png" alt="SLU Alumina Logo" class="slu-logo">
            <!-- Search bar -->
            <div class="search">
                <form id="searchForm" onsubmit="return false;">
                    <input type="text" name="search" id="searchInput" placeholder="Search..." onkeyup="searchUsers()">
                    <button type="submit">
                        <img src="../assets/images/search.png" alt="Search" class="search-icon">
                    </button>
                </form>
            </div>
        </h1>
        
        <ul id="searchResults"></ul>
         <!-- Profile dropdown: Allows user to view and manage their profile -->
        <!-- Library Used: Bootstrap (https://getbootstrap.com/) -->
        <!-- Design Inspiration: GitHub, Facebook -->
        <!-- Group Member Responsible: Escaño, Nichole Jhoy -->
        <div class="profile-dropdown">
            <img src="../assets/images/candy.jpg" alt="Profile" class="profile-avatar" name="pfp" onclick="toggleDropdown()">
            <div class="dropdown-menu" id="dropdownMenu" style="display: none;">
                <div class="dropdown-header">
                    <img src="../assets/images/candy.jpg" name="pfp" alt="Profile" class="dropdown-avatar">
                    <div class="dropdown-info">
                        <h4 name="name"></h4>
                        <p name="company">Web Developer at Google</p>
                    </div>
                </div>
                <ul class="dropdown-links">
                    <li><a href="/api/profile">View Profile</a></li>
                    <li><a href="/api/manage-profile">Manage Profile</a></li>
                    <li><a href="#">Close Account</a></li>
                </ul>
                <div class="logout-btn">
                    <img src="../assets/images/logout.png" alt="Log out Icon" class="logout-icon">
                    <span>Log out</span>
                </div>
            </div>
        </div>         
    </header>

   <!-- Back Button: Navigates to the home page -->
    <!-- Library Used: Bootstrap (https://getbootstrap.com/) -->
    <!-- Design Inspiration: GitHub, Facebook -->
      <a href="/" class="btn btn-outline-secondary back-btn">
        <img src="../assets/images/feed.png" alt="Back" class="me-2" style="width: 20px; height: 20px;"> Home
    </a>

       <!-- Alumni Profile: Displays the alumni's profile including their details and bio -->
     <!-- Library Used: Bootstrap (https://getbootstrap.com/) -->
    <!-- Group Member Responsible: Escaño, Nichole Jhoy -->
        <div class="container mt-4">
            <!-- Header Section -->
            <div class="card shadow-sm">
                <!-- Cover Photo -->
                <div class="cover-photo">
                    <img src="../assets/images/cover.jpg" class="img-fluid w-100" alt="Cover Photo">
                </div>

            <!-- Profile Section: Contains profile photo, name, job title, location, and stats -->
            <!-- Design Inspiration: GitHub, Facebook -->
            <!-- Group Member Responsible: Escaño, Nichole Jhoy -->
                <div class="profile-section d-flex align-items-center mt-4 px-4">
                    <!-- Profile Photo -->
                    <div class="profile-photo">
                        <img src="" alt="Profile Picture" class="rounded-circle" name="pfp" style="width: 100px; height: 100px;">
                    </div>

                    <!-- Profile Details -->
                    <div class="profile-details ms-3">
                        <h4 class="fw-bold mb-0" name="name">Taylor Swift</h4>
                        
                        <!-- Stats (Followers, Following, Posts) -->
                        <div class="stats mb-3">
                            <div class="stat-item">
                                <strong>Followers</strong><br><p name="followers_count">2</p>
                            </div>
                            <div class="stat-item">
                                <strong>Following</strong><br><p name="followed_count">2</p>
                            </div>
                            <div class="stat-item">
                                <strong>Posts</strong><br><p name="post_count">126</p>
                            </div>
                        </div>

                            <!-- Company -->
                            <div class="d-flex align-items-center mb-1" id="job-title">
                                <img src="../assets/images/position.png" alt="Job Icon" style="width: 16px; height: 16px; margin-right: 5px;">
                                <p class="text-muted mb-0" style="font-size: 0.95rem;" name="company">Halal Indonesia Company</p>
                            </div>

                            <!-- Profile Account Labels -->
                            <div class="profile-labels">
                                <!-- Private Account Label -->
                                <div class="private-label d-flex align-items-center text-muted" id="private-label" style="display: none;">
                                    <img src="../assets/images/lock.png" alt="Private Icon" style="width: 16px; height: 16px; margin-right: 5px;">
                                    <span>Private Account</span>
                                </div>

                                <!-- Public Account Label -->
                                <div class="public-label d-flex align-items-center text-muted" id="public-label" style="display: none;">
                                    <img src="../assets/images/public.png" alt="Public Icon" style="width: 16px; height: 16px; margin-right: 5px;">
                                    <span>Public Account</span>
                                </div>
                            </div>


                    </div>

                </div>
                

          <!-- Bio Section -->
        <div class="row mt-4">
            <div class="col-lg-3 ms-auto" id="bio-section">
                <div class="card">
                    <div class="card-body">
                        <h5 class="card-title">Bio</h5>
                        <p name="bio"></p>
                    </div>
                </div>
            </div>
        </div>

        <!-- Navigation Tabs: Provides navigation between Feed, Connections, Media, and Videos -->
        <!-- Library Used: Bootstrap (https://getbootstrap.com/) -->
        <!-- Group Member Responsible: Escaño, Nichole Jhoy -->
       <!-- Navigation Tabs: Provides navigation between Feed, Connections, Media, and Videos -->
        <ul class="nav nav-tabs mt-4 px-4" id="nav-tabs">
            <li class="nav-item">
                <a class="nav-link active" href="#" data-target="feed" onclick="changeTab(event, 'feed')">Feed</a>
            </li>
            <li class="nav-item">
                <a class="nav-link" href="#" data-target="connections" onclick="changeTab(event, 'connections')">Connections</a>
            </li>
            <li class="nav-item">
                <a class="nav-link" href="#" data-target="media" onclick="changeTab(event, 'media')">Media</a>
            </li>
            <li class="nav-item">
                <a class="nav-link" href="#" data-target="videos" onclick="changeTab(event, 'videos')">Videos</a>
            </li>
        </ul>
    </div>
        <!-- Tab Content -->
        <div id="feed" class="tab-content" style="display: block;">
            <!-- Feed Section -->
            <div class="post card mt-4">
                <div class="card-body">
                    <div class="d-flex justify-content-between align-items-center">
                        <div class="d-flex">
                            <img src="../assets/images/asta.jpg" class="rounded-circle me-3 feed-profile-img" alt="User">
                            <div>
                                <h6 class="mb-0">Asta Staria</h6>
                                <small class="text-muted">5 min ago</small>
                            </div>
                        </div>
                        <!-- Three-dot menu -->
                        <div class="dropdown">
                            <button class="btn btn-link p-0 text-dark" type="button" data-bs-toggle="dropdown" aria-expanded="false">
                                <img src="../assets/images/dots.png" alt="Options" style="width: 40px; height: 40px;">
                            </button>
                            <ul class="dropdown-menu dropdown-menu-end custom-dropdown" style="width: 50px;">
                                <li><button class="dropdown-item edit-post-btn">Report Post</button></li>
                            </ul>
                        </div>
                    </div>
                    <div class="post-content mt-3">
                        <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Consequat aliquet maecenas ut sit nulla.</p>
                        <img src="../assets/images/blackclover.jpg" class="img-fluid post-image" alt="Post">
                    </div>
                    <div class="post-actions card-footer d-flex align-items-center">
                        <div class="d-flex">
                            <button class="btn btn-outline-primary me-2">
                                <img src="../assets/images/like.png" alt="Like Icon" class="button-icon me-2"> Likes (22)
                            </button>
                            <button class="btn btn-outline-secondary comment-btn" data-bs-toggle="modal" data-bs-target="#commentModal">
                                <img src="../assets/images/comment.png" alt="Comment Icon" class="button-icon me-2"> Comments (23)
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div id="connections" class="tab-content" style="display: none;">
             <!-- Connections Table -->
             <div class="connections-table" id="connectionsTable">
                <!-- DOM generated -->
            </div>
        </div>

        <div id="media" class="tab-content" style="display: none;">
            <div class="container image-section">
                <h2>Media</h2>
                <div class="row g-4">
                  <!-- Image Card 1 -->
                  <div class="col-md-4">
                    <div class="image-card">
                      <img src="../assets/images/navi.jpg" alt="Image 1">
                      <div class="actions">
                        <div class="post-actions card-footer d-flex align-items-center">
                            <div class="d-flex">
                                <button class="btn btn-outline-primary me-2">
                                    <img src="../assets/images/like.png" alt="Like Icon" class="button-icon me-2"> Likes (22)
                                </button>
                                <button class="btn btn-outline-secondary comment-btn" data-bs-toggle="modal" data-bs-target="#commentModal">
                                    <img src="../assets/images/comment.png" alt="Comment Icon" class="button-icon me-2"> Comments (23)
                                </button>
                            </div>
                        </div>
                      </div>
                    </div>
                  </div>
            
                  <!-- Image Card 2 -->
                  <div class="col-md-4">
                    <div class="image-card">
                      <img src="../assets/images/navi.jpg" alt="Image 2">
                      <div class="actions">
                        <div class="post-actions card-footer d-flex align-items-center">
                            <div class="d-flex">
                                <button class="btn btn-outline-primary me-2">
                                    <img src="../assets/images/like.png" alt="Like Icon" class="button-icon me-2"> Likes (22)
                                </button>
                                <button class="btn btn-outline-secondary comment-btn" data-bs-toggle="modal" data-bs-target="#commentModal">
                                    <img src="../assets/images/comment.png" alt="Comment Icon" class="button-icon me-2"> Comments (23)
                                </button>
                            </div>
                        </div>
                      </div>
                    </div>
                  </div>
            
                  <!-- Image Card 3 -->
                  <div class="col-md-4">
                    <div class="image-card">
                      <img src="../assets/images/navi.jpg" alt="Image 3">
                      <div class="actions">
                        <div class="post-actions card-footer d-flex align-items-center">
                            <div class="d-flex">
                                <button class="btn btn-outline-primary me-2">
                                    <img src="../assets/images/like.png" alt="Like Icon" class="button-icon me-2"> Likes (22)
                                </button>
                                <button class="btn btn-outline-secondary comment-btn" data-bs-toggle="modal" data-bs-target="#commentModal">
                                    <img src="../assets/images/comment.png" alt="Comment Icon" class="button-icon me-2"> Comments (23)
                                </button>
                            </div>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
              </div>
    
        <div id="videos" class="tab-content" style="display: none;">
                <div class="container video-section">
                    <h2>Videos</h2>
                    <div class="row g-4">
                      <!-- Video Card 1 -->
                      <div class="col-md-4">
                        <div class="video-card">
                          <video src="../assets/images/vidsample.mp4" controls></video>
                          <div class="actions">
                            <div class="post-actions card-footer d-flex align-items-center">
                                <div class="d-flex">
                                    <button class="btn btn-outline-primary me-2">
                                        <img src="../assets/images/like.png" alt="Like Icon" class="button-icon me-2"> Likes (22)
                                    </button>
                                    <button class="btn btn-outline-secondary comment-btn" data-bs-toggle="modal" data-bs-target="#commentModal">
                                        <img src="../assets/images/comment.png" alt="Comment Icon" class="button-icon me-2"> Comments (23)
                                    </button>
                                </div>
                            </div>
                          </div>
                        </div>
                      </div>
                
                      <!-- Video Card 2 -->
                      <div class="col-md-4">
                        <div class="video-card">
                          <video src="../assets/images/vidsample.mp4" controls></video>
                          <div class="actions">
                            <div class="post-actions card-footer d-flex align-items-center">
                                <div class="d-flex">
                                    <button class="btn btn-outline-primary me-2">
                                        <img src="../assets/images/like.png" alt="Like Icon" class="button-icon me-2"> Likes (22)
                                    </button>
                                    <button class="btn btn-outline-secondary comment-btn" data-bs-toggle="modal" data-bs-target="#commentModal">
                                        <img src="../assets/images/comment.png" alt="Comment Icon" class="button-icon me-2"> Comments (23)
                                    </button>
                                </div>
                            </div>
                          </div>
                        </div>
                      </div>
                
                      <!-- Video Card 3 -->
                      <div class="col-md-4">
                        <div class="video-card">
                          <video src="../assets/images/vidsample.mp4" controls></video>
                          <div class="actions">
                            <div class="post-actions card-footer d-flex align-items-center">
                                <div class="d-flex">
                                    <button class="btn btn-outline-primary me-2">
                                        <img src="../assets/images/like.png" alt="Like Icon" class="button-icon me-2"> Likes (22)
                                    </button>
                                    <button class="btn btn-outline-secondary comment-btn" data-bs-toggle="modal" data-bs-target="#commentModal">
                                        <img src="../assets/images/comment.png" alt="Comment Icon" class="button-icon me-2"> Comments (23)
                                    </button>
                                </div>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                  </div>

        <!-- Edit Post Modal: Allows users to edit their post -->
        <!-- Library Used: Bootstrap (https://getbootstrap.com/) -->
        <!-- Group Member Responsible: Escaño, Nichole Jhoy -->
        <div class="modal fade" id="editPostModal" tabindex="-1" aria-labelledby="editPostModalLabel" aria-hidden="true">
            <div class="modal-dialog">
                <div class="modal-content">
                    <div class="modal-header">
                        <h5 class="modal-title" id="editPostModalLabel">Edit Post</h5>
                        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                    </div>
                    <div class="modal-body">
                        <!-- Edit Post Content -->
                        <div class="mb-3">
                            <textarea
                                class="form-control"
                                id="editPostContent"
                                rows="4"
                                placeholder="Edit your post text..."></textarea>
                        </div>
                        <!-- Edit Media Section -->
                        <div class="mb-3">
                            <label for="editPostMedia" class="form-label">Edit Image/Video</label>
                            <input
                                type="file"
                                id="editPostMedia"
                                accept="image/*,video/*"
                                class="form-control">
                        </div>
                        <div id="editMediaPreview" class="mb-3 text-center d-flex flex-wrap gap-2">
                            <!-- Dynamic Media Preview Container -->
                        </div>
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
                        <button type="button" class="btn btn-primary" id="saveEditPost">Save Changes</button>
                    </div>
                </div>
            </div>
        </div>
    
        <!-- Success Modal: Shows success message after successful post update -->
         <!-- Library Used: Bootstrap (https://getbootstrap.com/) -->
        <!-- Group Member Responsible: Escaño, Nichole Jhoy -->
        <div class="modal fade" id="successModal" tabindex="-1" aria-labelledby="successModalLabel" aria-hidden="true">
            <div class="modal-dialog">
                <div class="modal-content">
                    <div class="modal-header">
                        <h5 class="modal-title" id="successModalLabel">Post Updated</h5>
                        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                    </div>
                    <div class="modal-body">
                        The post was updated successfully.
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-primary" data-bs-dismiss="modal">OK</button>
                    </div>
                </div>
            </div>
        </div>

         <!-- Error Modal: Shows error message if there's an issue updating the post -->
          <!-- Library Used: Bootstrap (https://getbootstrap.com/) -->
        <!-- Group Member Responsible: Escaño, Nichole Jhoy -->
        <div class="modal fade" id="errorModal" tabindex="-1" aria-labelledby="errorModalLabel" aria-hidden="true">
            <div class="modal-dialog">
                <div class="modal-content">
                    <div class="modal-header">
                        <h5 class="modal-title" id="errorModalLabel">Error</h5>
                        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                    </div>
                    <div class="modal-body">
                        There was an error while updating the post. Please try again.
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-primary" data-bs-dismiss="modal">OK</button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Delete Post Modal: Confirms if the user wants to delete the post -->
        <!-- Library Used: Bootstrap (https://getbootstrap.com/) -->
        <!-- Group Member Responsible: Escaño, Nichole Jhoy -->
        <div class="modal fade" id="deletePostModal" tabindex="-1" aria-labelledby="deletePostModalLabel" aria-hidden="true">
            <div class="modal-dialog">
                <div class="modal-content">
                    <div class="modal-header">
                        <h5 class="modal-title" id="deletePostModalLabel">Delete Post</h5>
                        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                    </div>
                    <div class="modal-body text-center">
                        <img id="deletePostImage" src="../assets/images/delete.png" alt="Post Image" class="img-fluid rounded mb-3" style="max-height: 100px;">
                        <p>Are you sure you want to delete this post? <br> This action cannot be undone.</p>
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
                        <button type="button" class="btn btn-danger" id="confirmDeletePost">Delete</button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Success Modal for Delete Post -->
        <!-- Library Used: Bootstrap (https://getbootstrap.com/) -->
        <!-- Group Member Responsible: Escaño, Nichole Jhoy -->
        <div class="modal fade" id="deleteSuccessModal" tabindex="-1" aria-labelledby="deleteSuccessModalLabel" aria-hidden="true">
            <div class="modal-dialog">
                <div class="modal-content">
                    <div class="modal-header">
                        <h5 class="modal-title" id="deleteSuccessModalLabel">Post Deleted</h5>
                        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                    </div>
                    <div class="modal-body">
                        The post was deleted successfully.
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-primary" data-bs-dismiss="modal">OK</button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Failure Modal for Delete Post -->
        <!-- Library Used: Bootstrap (https://getbootstrap.com/) -->
        <!-- Group Member Responsible: Escaño, Nichole Jhoy -->
        <div class="modal fade" id="deleteFailureModal" tabindex="-1" aria-labelledby="deleteFailureModalLabel" aria-hidden="true">
            <div class="modal-dialog">
                <div class="modal-content">
                    <div class="modal-header">
                        <h5 class="modal-title" id="deleteFailureModalLabel">Error Deleting Post</h5>
                        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                    </div>
                    <div class="modal-body">
                        There was an error deleting the post. Please try again later.
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-primary" data-bs-dismiss="modal">OK</button>
                    </div>
                </div>
            </div>
        </div>

    <script src="/../../node_modules/bootstrap/dist/js/bootstrap.bundle.min.js"></script>
    <script src="../assets/js/handleViewProfile.js" defer>  </script>  
    <script src="../assets/js/handleViewProfileFetch.js" defer>  </script>  
    <script src="../assets/js/handleAlumniFetch.js" defer>  </script>  
</body>
</html>